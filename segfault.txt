/* Working correctly */

hello world 'does | this work?' hello=10 $PWD word | word "#comment not gone" | with $PS1 and #comment that will be gone 
| followed by command
|
#comment
< input for command 1 | << here for heredoc > out | >> append the last


/* Segfaults or incorrect behaviour */
< "input with var $PS1" for command 1 | << "here with var $PWD" for heredoc > out | >> append the last
command | another $command |  (incorrect when followed by <newline>)
< $var < "$var" < '$var' << $var << "$var" << '$var' --> should be '' '' '' $var $var $var

------------------------

/* todo */

spatie na expanded command met spaties moet wel weg
cleanup at error
check on empty command if only #comment tokens
check getting vars with overlapping name for example VAR and VAR2
